{"version":3,"sources":["reducers/enemyCounter.js"],"names":["enemyCounter","state","playerEnemyCount","enemyList","action","type","setIn","player","enemy","count","set","name","map","replace","toLowerCase","values"],"mappings":";;;;;;;;kBA6BwBA,Y;;AA3BxB;;AA2Be,SAASA,YAAT,CACbC,QAA2B;AACzBC,oBAAkB,oBADO;AAEzBC,aAAW;AAFc,CADd,EAKbC,MALa,EAMM;AACnB,UAAQA,OAAOC,IAAf;AACE,SAAK,wBAAL;AACE,0BACKJ,KADL;AAEEC,0BAAkBD,MAAMC,gBAAN,CAAuBI,KAAvB,CAChB,CAACF,OAAOG,MAAR,EAAgBH,OAAOI,KAAvB,CADgB,EAEhBJ,OAAOK,KAFS;AAFpB;;AAQF,SAAK,mBAAL;AACE,0BACKR,KADL;AAEEC,0BAAkBD,MAAMC,gBAAN,CAAuBQ,GAAvB,CAA2BN,OAAOO,IAAlC,EAAwCV,MAAME,SAAN,CAAgBS,GAAhB,CAAoB,MAAM,CAA1B,CAAxC;AAFpB;;AAKF,SAAK,kBAAL;AACE,0BACKX,KADL;AAEEE,mBAAWF,MAAME,SAAN,CAAgBO,GAAhB,CACTN,OAAOO,IAAP,CAAYE,OAAZ,CAAoB,MAApB,EAA4B,GAA5B,EAAiCC,WAAjC,EADS,EAET,EAAEH,MAAMP,OAAOO,IAAf,EAAqBI,QAAQ,oBAAS,CAAC,CAAD,CAAT,CAA7B,EAFS;AAFb;;AAQF,SAAK,kBAAL;AACE,0BACKd,KADL;AAEEE,mBAAWF,MAAME,SAAN,CAAgBG,KAAhB,CACT,CAACF,OAAOI,KAAR,EAAe,QAAf,CADS,EAET,oBAASJ,OAAOW,MAAhB,CAFS;AAFb;;AAQF;AACE,aAAOd,KAAP;AAnCJ;AAqCD","file":"reducers/enemyCounter.js","sourcesContent":["// @flow\n\nimport { Map, List } from 'immutable';\n\nimport type { SetPlayerEnemyCountAction } from '../actions/setPlayerEnemyCount';\nimport type { CreateNewPlayerAction } from '../actions/createNewPlayer';\nimport type { CreateNewEnemyAction } from '../actions/createNewEnemy';\nimport type { SetEnemyValuesAction } from '../actions/setEnemyValues';\n\n\nexport type EnemyCounterState = {\n  playerEnemyCount: Map<\n    string,\n    Map<string, number>\n  >,\n  enemyList: Map<\n    string,\n    {\n      name: string,\n      values: List<number>,\n    }\n  >,\n};\n\nexport type EnemyCounterAction = SetPlayerEnemyCountAction |\n  CreateNewPlayerAction |\n  CreateNewEnemyAction |\n  SetEnemyValuesAction;\n\nexport default function enemyCounter(\n  state: EnemyCounterState = {\n    playerEnemyCount: new Map(),\n    enemyList: new Map(),\n  },\n  action: EnemyCounterAction\n): EnemyCounterState {\n  switch (action.type) {\n    case 'set-player-enemy-count':\n      return {\n        ...state,\n        playerEnemyCount: state.playerEnemyCount.setIn(\n          [action.player, action.enemy],\n          action.count\n        ),\n      };\n\n    case 'create-new-player':\n      return {\n        ...state,\n        playerEnemyCount: state.playerEnemyCount.set(action.name, state.enemyList.map(() => 0)),\n      };\n\n    case 'create-new-enemy':\n      return {\n        ...state,\n        enemyList: state.enemyList.set(\n          action.name.replace(/\\s+/g, '-').toLowerCase(),\n          { name: action.name, values: new List([0]) }\n        ),\n      };\n\n    case 'set-enemy-values':\n      return {\n        ...state,\n        enemyList: state.enemyList.setIn(\n          [action.enemy, 'values'],\n          new List(action.values)\n        ),\n      };\n\n    default:\n      return state;\n  }\n}\n"],"sourceRoot":"/source/"}