{"version":3,"sources":["util/routes.jsx"],"names":["store","onPlayerEnter","nextState","name","params","getState","enemyChecklist","playerList","has","dispatch","onKeyPlayerEnter","keyCounter","onItemPlayerEnter","itemChecklist","header","body"],"mappings":";;;;;;kBA0Be,UAAUA,KAAV,EAAwB;AACrC,WAASC,aAAT,CAAuBC,SAAvB,EAAkC;AAChC,UAAM,EAAEC,IAAF,KAAWD,UAAUE,MAA3B;AACA,QAAI,CAACJ,MAAMK,QAAN,GAAiBC,cAAjB,CAAgCC,UAAhC,CAA2CC,GAA3C,CAA+CL,IAA/C,CAAL,EAA2D;AACzDH,YAAMS,QAAN,CAAe,+BAAgBN,IAAhB,CAAf;AACD;AACF;;AAED,WAASO,gBAAT,CAA0BR,SAA1B,EAAqC;AACnC,UAAM,EAAEC,IAAF,KAAWD,UAAUE,MAA3B;AACA,QAAI,CAACJ,MAAMK,QAAN,GAAiBM,UAAjB,CAA4BH,GAA5B,CAAgCL,IAAhC,CAAL,EAA4C;AAC1CH,YAAMS,QAAN,CAAe,kCAAmBN,IAAnB,CAAf;AACD;AACF;;AAED,WAASS,iBAAT,CAA2BV,SAA3B,EAAsC;AACpC,UAAM,EAAEC,IAAF,KAAWD,UAAUE,MAA3B;AACA,QAAI,CAACJ,MAAMK,QAAN,GAAiBQ,aAAjB,CAA+BN,UAA/B,CAA0CC,GAA1C,CAA8CL,IAA9C,CAAL,EAA0D;AACxDH,YAAMS,QAAN,CAAe,mCAAoBN,IAApB,CAAf;AACD;AACF;;AAED,SACE;AAAA;AAAA,MAAO,wBAAP,EAAuB,MAAK,GAA5B;AACE;AAAA;AAAA,QAAO,wCAAP,EAAuC,MAAK,aAA5C;AACE;AACE,oBAAY;AACVW,kBAAQ,MAAM,0CADJ;AAEVC;AAFU;AADd,QADF;AAOE;AACE,cAAK,YADP;AAEE,oBAAY;AACVD,4CADU;AAEVC;AAFU,SAFd;AAME,iBAASL;AANX,QAPF;AAeE;AACE,cAAK,aADP;AAEE,oBAAY;AACVI,kBAAQ,IADE;AAEVC;AAFU;AAFd;AAfF,KADF;AAyBE;AAAA;AAAA,QAAO,mCAAP,EAAgC,MAAK,eAArC;AACE;AACE,oBAAY;AACVD,kBAAQ,MAAM,0CADJ;AAEVC;AAFU;AADd,QADF;AAOE;AACE,cAAK,YADP;AAEE,oBAAY;AACVD,gDADU;AAEVC;AAFU,SAFd;AAME,iBAASd;AANX,QAPF;AAeE;AACE,cAAK,aADP;AAEE,oBAAY;AACVa,kBAAQ,IADE;AAEVC;AAFU;AAFd;AAfF,KAzBF;AAiDE;AAAA;AAAA,QAAO,kCAAP,EAAiC,MAAK,cAAtC;AACE;AACE,oBAAY;AACVD,kBAAQ,MAAM,0CADJ;AAEVC;AAFU;AADd,QADF;AAOE;AACE,cAAK,YADP;AAEE,oBAAY;AACVD,+CADU;AAEVC;AAFU,SAFd;AAME,iBAASH;AANX,QAPF;AAeE;AACE,cAAK,aADP;AAEE,oBAAY;AACVE,kBAAQ,IADE;AAEVC;AAFU;AAFd;AAfF;AAjDF,GADF;AA2ED,C;;AAzHD;;AACA;;;;AAGA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA","file":"routes.js","sourcesContent":["// @flow\n\nimport { Route, IndexRoute } from 'react-router';\nimport React from 'react';\nimport type { Store } from 'redux';\n\nimport App from '../components/App';\nimport createNewPlayer from '../actions/createNewPlayer';\nimport createNewKeyPlayer from '../actions/createNewKeyPlayer';\nimport createNewItemPlayer from '../actions/createNewItemPlayer';\nimport ItemChecklistHeader from '../components/ItemChecklistHeader';\nimport ItemChecklist from '../components/ItemChecklist';\nimport ItemChecklistList from '../components/ItemChecklistList';\nimport ItemChecklistIndex from '../components/ItemChecklistIndex';\nimport ItemChecklistLeaderboard from '../components/ItemChecklistLeaderboard';\nimport EnemyChecklistHeader from '../components/EnemyChecklistHeader';\nimport EnemyCounter from '../components/EnemyChecklist';\nimport EnemyCounterChecklist from '../components/EnemyChecklistList';\nimport EnemyCounterIndex from '../components/EnemyCounterIndex';\nimport EnemyChecklistLeaderboard from '../components/EnemyChecklistLeaderboard';\nimport KeyCounter from '../components/KeyCounter';\nimport KeyCounterIndex from '../components/KeyCounterIndex';\nimport KeyCounterContainer from '../components/KeyCounterContainer';\nimport KeyCounterHeader from '../components/KeyCounterHeader';\nimport KeyCounterLeaderboard from '../components/KeyCounterLeaderboard';\n\nexport default function (store: Store) {\n  function onPlayerEnter(nextState) {\n    const { name } = nextState.params;\n    if (!store.getState().enemyChecklist.playerList.has(name)) {\n      store.dispatch(createNewPlayer(name));\n    }\n  }\n\n  function onKeyPlayerEnter(nextState) {\n    const { name } = nextState.params;\n    if (!store.getState().keyCounter.has(name)) {\n      store.dispatch(createNewKeyPlayer(name));\n    }\n  }\n\n  function onItemPlayerEnter(nextState) {\n    const { name } = nextState.params;\n    if (!store.getState().itemChecklist.playerList.has(name)) {\n      store.dispatch(createNewItemPlayer(name));\n    }\n  }\n\n  return (\n    <Route component={App} path=\"/\">\n      <Route component={KeyCounterContainer} path=\"key-counter\">\n        <IndexRoute\n          components={{\n            header: () => <div />,\n            body: KeyCounterIndex,\n          }}\n        />\n        <Route\n          path=\"user/:name\"\n          components={{\n            header: KeyCounterHeader,\n            body: KeyCounter,\n          }}\n          onEnter={onKeyPlayerEnter}\n        />\n        <Route\n          path=\"leaderboard\"\n          components={{\n            header: null,\n            body: KeyCounterLeaderboard,\n          }}\n        />\n      </Route>\n\n      <Route component={EnemyCounter} path=\"enemy-counter\">\n        <IndexRoute\n          components={{\n            header: () => <div />,\n            body: EnemyCounterIndex,\n          }}\n        />\n        <Route\n          path=\"user/:name\"\n          components={{\n            header: EnemyChecklistHeader,\n            body: EnemyCounterChecklist,\n          }}\n          onEnter={onPlayerEnter}\n        />\n        <Route\n          path=\"leaderboard\"\n          components={{\n            header: null,\n            body: EnemyChecklistLeaderboard,\n          }}\n        />\n      </Route>\n\n      <Route component={ItemChecklist} path=\"item-counter\">\n        <IndexRoute\n          components={{\n            header: () => <div />,\n            body: ItemChecklistIndex,\n          }}\n        />\n        <Route\n          path=\"user/:name\"\n          components={{\n            header: ItemChecklistHeader,\n            body: ItemChecklistList,\n          }}\n          onEnter={onItemPlayerEnter}\n        />\n        <Route\n          path=\"leaderboard\"\n          components={{\n            header: null,\n            body: ItemChecklistLeaderboard,\n          }}\n        />\n      </Route>\n    </Route>\n  );\n}\n"]}