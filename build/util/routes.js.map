{"version":3,"sources":["util/routes.jsx"],"names":["store","onPlayerEnter","nextState","name","params","getState","enemyChecklist","playerList","has","dispatch","header","body"],"mappings":";;;;;;kBAce,UAAUA,KAAV,EAAwB;AACrC,WAASC,aAAT,CAAuBC,SAAvB,EAAkC;AAChC,UAAM,EAAEC,IAAF,KAAWD,UAAUE,MAA3B;AACA,QAAI,CAACJ,MAAMK,QAAN,GAAiBC,cAAjB,CAAgCC,UAAhC,CAA2CC,GAA3C,CAA+CL,IAA/C,CAAL,EAA2D;AACzDH,YAAMS,QAAN,CAAe,+BAAgBN,IAAhB,CAAf;AACD;AACF;;AAED,SACE;AAAA;AAAA,MAAO,wBAAP,EAAuB,MAAK,GAA5B;AACE;AAAA;AAAA,QAAO,mCAAP,EAAgC,MAAK,eAArC;AACE;AACE,oBAAY;AACVO,kBAAQ,MAAM,0CADJ;AAEVC;AAFU;AADd,QADF;AAOE;AACE,cAAK,YADP;AAEE,oBAAY;AACVD,gDADU;AAEVC;AAFU,SAFd;AAME,iBAASV;AANX,QAPF;AAeE;AACE,cAAK,aADP;AAEE,oBAAY;AACVS,kBAAQ,IADE;AAEVC;AAFU;AAFd;AAfF;AADF,GADF;AA2BD,C;;AA/CD;;AACA;;;;AAGA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA","file":"routes.js","sourcesContent":["// @flow\n\nimport { Route, IndexRoute } from 'react-router';\nimport React from 'react';\nimport type { Store } from 'redux';\n\nimport App from '../components/App';\nimport createNewPlayer from '../actions/createNewPlayer';\nimport EnemyChecklistHeader from '../components/EnemyChecklistHeader';\nimport EnemyCounter from '../components/EnemyChecklist';\nimport EnemyCounterChecklist from '../components/EnemyChecklistList';\nimport EnemyCounterIndex from '../components/EnemyCounterIndex';\nimport EnemyChecklistLeaderboard from '../components/EnemyChecklistLeaderboard';\n\nexport default function (store: Store) {\n  function onPlayerEnter(nextState) {\n    const { name } = nextState.params;\n    if (!store.getState().enemyChecklist.playerList.has(name)) {\n      store.dispatch(createNewPlayer(name));\n    }\n  }\n\n  return (\n    <Route component={App} path=\"/\">\n      <Route component={EnemyCounter} path=\"enemy-counter\">\n        <IndexRoute\n          components={{\n            header: () => <div />,\n            body: EnemyCounterIndex,\n          }}\n        />\n        <Route\n          path=\"user/:name\"\n          components={{\n            header: EnemyChecklistHeader,\n            body: EnemyCounterChecklist,\n          }}\n          onEnter={onPlayerEnter}\n        />\n        <Route\n          path=\"leaderboard\"\n          components={{\n            header: null,\n            body: EnemyChecklistLeaderboard,\n          }}\n        />\n      </Route>\n    </Route>\n  );\n}\n"]}