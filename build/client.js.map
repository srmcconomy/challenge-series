{"version":3,"sources":["client.jsx"],"names":["socket","keyCounter","window","PRELOADED_STATE","playerList","Object","keys","enemyChecklist","map","name","score","enemies","itemPlayers","itemChecklist","hearts","rupees","items","preloadedState","enemyList","srlPlayers","store","render","document","getElementById"],"mappings":";;AAEA;;AACA;;AACA;;AACA;;AACA;;;;AACA;;;;AACA;;;;AAEA;;AACA;;;;AACA;;;;;;AAEA,MAAMA,SAAS,uBAAf;;AAEA,MAAMC,aAAa,mBAAQC,OAAOC,eAAP,CAAuBF,UAA/B,CAAnB;;AAEA,MAAMG,aAAa,mBAAQC,OAAOC,IAAP,CACzBJ,OAAOC,eAAP,CAAuBI,cAAvB,CAAsCH,UADb,EAEzBI,GAFyB,CAErBC,QAAQ,CACZA,IADY,EAEZ;AACEC,SAAOR,OAAOC,eAAP,CAAuBI,cAAvB,CAAsCH,UAAtC,CAAiDK,IAAjD,EAAuDC,KADhE;AAEEC,WAAS,mBAAQT,OAAOC,eAAP,CAAuBI,cAAvB,CAAsCH,UAAtC,CAAiDK,IAAjD,EAAuDE,OAA/D;AAFX,CAFY,CAFa,CAAR,CAAnB;;AAUA,MAAMC,cAAc,mBAAQP,OAAOC,IAAP,CAC1BJ,OAAOC,eAAP,CAAuBU,aAAvB,CAAqCT,UADX,EAE1BI,GAF0B,CAEtBC,QAAQ,CACZA,IADY,EAEZ;AACEC,SAAOR,OAAOC,eAAP,CAAuBU,aAAvB,CAAqCT,UAArC,CAAgDK,IAAhD,EAAsDC,KAD/D;AAEEI,UAAQZ,OAAOC,eAAP,CAAuBU,aAAvB,CAAqCT,UAArC,CAAgDK,IAAhD,EAAsDK,MAFhE;AAGEC,UAAQb,OAAOC,eAAP,CAAuBU,aAAvB,CAAqCT,UAArC,CAAgDK,IAAhD,EAAsDM,MAHhE;AAIEC,SAAO,mBAAQd,OAAOC,eAAP,CAAuBU,aAAvB,CAAqCT,UAArC,CAAgDK,IAAhD,EAAsDO,KAA9D;AAJT,CAFY,CAFc,CAAR,CAApB;;AAYA,MAAMC,iBAAiB;AACrBhB,YADqB;AAErBM,kBAAgB;AACdH,cADc;AAEdc,eAAW,mBAAQhB,OAAOC,eAAP,CAAuBI,cAAvB,CAAsCW,SAA9C,CAFG;AAGdC,gBAAY,oBAASjB,OAAOC,eAAP,CAAuBI,cAAvB,CAAsCY,UAA/C;AAHE,GAFK;AAOrBN,iBAAe;AACbT,gBAAYQ,WADC;AAEbO,gBAAY,oBAASjB,OAAOC,eAAP,CAAuBU,aAAvB,CAAqCM,UAA9C;AAFC;AAPM,CAAvB;;AAaA,MAAMC,QAAQ,4CAAsBH,cAAtB,EAAsC,4BAAgB,oCAAiBjB,MAAjB,CAAhB,CAAtC,CAAd;AACA,0CAAuBoB,KAAvB,EAA8BpB,MAA9B;;AAEA,mBAASqB,MAAT,CACE;AAAA;AAAA,IAAU,OAAOD,KAAjB;AACE,uDAAQ,QAAQ,sBAAOA,KAAP,CAAhB,EAA+B,oCAA/B;AADF,CADF,EAIEE,SAASC,cAAT,CAAwB,YAAxB,CAJF","file":"client.js","sourcesContent":["// @flow\n\nimport { createStore, applyMiddleware } from 'redux';\nimport { Map, Set, List } from 'immutable';\nimport { Provider } from 'react-redux';\nimport { Router, browserHistory } from 'react-router';\nimport io from 'socket.io-client';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { connectStoreWithSocket, socketMiddleware } from './util/storeSockets';\nimport reducers from './reducers';\nimport routes from './util/routes';\n\nconst socket = io();\n\nconst keyCounter = new Map(window.PRELOADED_STATE.keyCounter);\n\nconst playerList = new Map(Object.keys(\n  window.PRELOADED_STATE.enemyChecklist.playerList\n).map(name => [\n  name,\n  {\n    score: window.PRELOADED_STATE.enemyChecklist.playerList[name].score,\n    enemies: new Set(window.PRELOADED_STATE.enemyChecklist.playerList[name].enemies),\n  },\n]));\n\nconst itemPlayers = new Map(Object.keys(\n  window.PRELOADED_STATE.itemChecklist.playerList\n).map(name => [\n  name,\n  {\n    score: window.PRELOADED_STATE.itemChecklist.playerList[name].score,\n    hearts: window.PRELOADED_STATE.itemChecklist.playerList[name].hearts,\n    rupees: window.PRELOADED_STATE.itemChecklist.playerList[name].rupees,\n    items: new Set(window.PRELOADED_STATE.itemChecklist.playerList[name].items),\n  }\n]));\n\nconst preloadedState = {\n  keyCounter,\n  enemyChecklist: {\n    playerList,\n    enemyList: new Map(window.PRELOADED_STATE.enemyChecklist.enemyList),\n    srlPlayers: new List(window.PRELOADED_STATE.enemyChecklist.srlPlayers),\n  },\n  itemChecklist: {\n    playerList: itemPlayers,\n    srlPlayers: new List(window.PRELOADED_STATE.itemChecklist.srlPlayers),\n  }\n};\n\nconst store = createStore(reducers, preloadedState, applyMiddleware(socketMiddleware(socket)));\nconnectStoreWithSocket(store, socket);\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router routes={routes(store)} history={browserHistory} />\n  </Provider>,\n  document.getElementById('react-root')\n);\n"]}