{"version":3,"sources":["client.jsx"],"names":["socket","keyCounter","Map","window","PRELOADED_STATE","token","TOKEN","pl","players","playerList","Object","keys","enemyChecklist","map","name","score","enemies","Set","itemPlayers","itemChecklist","hearts","rupees","items","childPlayers","childChecklist","skulls","preloadedState","enemyList","srlPlayers","List","store","reducers","console","log","cookie","exec","document","ReactDOM","render","browserHistory","getElementById"],"mappings":"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","file":"client.js","sourcesContent":["// @flow\n\nimport { createStore, applyMiddleware } from 'redux';\nimport { Map, Set, List } from 'immutable';\nimport { Provider } from 'react-redux';\nimport { Router, browserHistory } from 'react-router';\nimport io from 'socket.io-client';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { connectStoreWithSocket, socketMiddleware } from './util/storeSockets';\nimport reducers from './reducers';\nimport routes from './util/routes';\n\nconst socket = io();\n\nconst keyCounter = new Map(window.PRELOADED_STATE.keyCounter);\nconst token = window.TOKEN;\n\nconst pl = new Map(window.PRELOADED_STATE.players);\n\nconst playerList = new Map(Object.keys(\n  window.PRELOADED_STATE.enemyChecklist.playerList\n).map(name => [\n  name,\n  {\n    score: window.PRELOADED_STATE.enemyChecklist.playerList[name].score,\n    enemies: new Set(window.PRELOADED_STATE.enemyChecklist.playerList[name].enemies),\n  },\n]));\n\nconst itemPlayers = new Map(Object.keys(\n  window.PRELOADED_STATE.itemChecklist.playerList\n).map(name => [\n  name,\n  {\n    score: window.PRELOADED_STATE.itemChecklist.playerList[name].score,\n    hearts: window.PRELOADED_STATE.itemChecklist.playerList[name].hearts,\n    rupees: window.PRELOADED_STATE.itemChecklist.playerList[name].rupees,\n    items: new Set(window.PRELOADED_STATE.itemChecklist.playerList[name].items),\n  }\n]));\n\nconst childPlayers = new Map(Object.keys(\n  window.PRELOADED_STATE.childChecklist.playerList\n).map(name => [\n  name,\n  {\n    score: window.PRELOADED_STATE.childChecklist.playerList[name].score,\n    skulls: new Map(window.PRELOADED_STATE.childChecklist.playerList[name].skulls),\n    items: new Set(window.PRELOADED_STATE.childChecklist.playerList[name].items),\n  }\n]));\n\nconst preloadedState = {\n  keyCounter,\n  enemyChecklist: {\n    playerList,\n    enemyList: new Map(window.PRELOADED_STATE.enemyChecklist.enemyList),\n    srlPlayers: new List(window.PRELOADED_STATE.enemyChecklist.srlPlayers),\n  },\n  itemChecklist: {\n    playerList: itemPlayers,\n    srlPlayers: new List(window.PRELOADED_STATE.itemChecklist.srlPlayers),\n  },\n  players: pl,\n  childChecklist: {\n    playerList: childPlayers,\n    srlPlayers: new List(window.PRELOADED_STATE.childChecklist.srlPlayers),\n  }\n};\n\nconst store = createStore(reducers, preloadedState, applyMiddleware(socketMiddleware(socket)));\n\nconnectStoreWithSocket(store, socket);\nconsole.log('%c asdf', 'padding: 170px; font-size: 1px; line-height: 340px; background-image: url(\"http://i3.kym-cdn.com/photos/images/newsfeed/000/925/494/218.png_large\"); background-size: 340px 340px;');\n\nconst cookie = /[^\\s=]+=([^\\s]+)/.exec(document.cookie);\nReactDOM.render(\n  <Provider store={store}>\n    <Router routes={routes(store, cookie ? cookie[1] : null, null)} history={browserHistory} />\n  </Provider>,\n  document.getElementById('react-root')\n);\n"]}